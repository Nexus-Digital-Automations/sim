import { memo, type ReactElement } from 'react'
import { twMerge } from 'tailwind-merge'
import { getDateStr } from '@/utils/date'

const DateHeader = ({
  date,
  isFirst,
  bgColor,
}: {
  date: string | Date
  isFirst: boolean
  bgColor?: string
}): ReactElement => {
  return (
    <div className='-top-[1px] sticky z-[1] mb-[14px] flex h-[30px] min-h-[30px] justify-center bg-white pt-[4px] pb-[4px]'>
      <div
        className={twMerge(
          'flex min-w-[min(1000px,100%)] max-w-[min(1000px,100%)] justify-center text-center',
          isFirst && '!mt-0 pt-[1px]',
          bgColor
        )}
      >
        <div className='-translate-y-[-50%] h-full flex-1 [box-shadow:0_-0.6px_0px_0px_#F3F5F9] ' />
        <div className='flex w-[100px] items-center justify-center rounded-[6px] border-[0.6px] border-muted bg-white font-light text-[#656565] text-[12px]'>
          {getDateStr(date)}
        </div>
        <div className='-translate-y-[-50%] h-full flex-1 [box-shadow:0_-0.6px_0px_0px_#F3F5F9]' />
      </div>
    </div>
  )
}

export default memo(DateHeader)
