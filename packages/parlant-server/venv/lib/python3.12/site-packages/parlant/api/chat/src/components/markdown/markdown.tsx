/* eslint-disable @typescript-eslint/no-unused-vars */
import ReactMarkdown from 'react-markdown'
import rehypeHighlight from 'rehype-highlight'
import remarkGfm from 'remark-gfm'
import 'highlight.js/styles/github.css'
import remarkBreaks from 'remark-breaks'
import { twMerge } from 'tailwind-merge'
import styles from '../message/message.module.scss'

const Markdown = ({ children, className }: { children: string; className?: string }) => {
  return (
    <ReactMarkdown
      components={{
        p: 'div',
        img: ({ node, ...props }) => <img {...props} loading='lazy' alt='' />,
      }}
      rehypePlugins={[rehypeHighlight]}
      remarkPlugins={[remarkGfm, remarkBreaks]}
      className={twMerge('leading-[19px]', styles.markdown, className)}
    >
      {children}
    </ReactMarkdown>
  )
}

export default Markdown
