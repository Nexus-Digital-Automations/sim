# ===========================================
# PARLANT SERVER - STAGING CONFIGURATION
# ===========================================
# Staging environment settings for Parlant server

# ===========================================
# CORE SERVER CONFIGURATION
# ===========================================
PARLANT_SERVER_PORT=8800
PARLANT_SERVER_HOST=0.0.0.0
PARLANT_SERVER_URL=https://parlant-staging.example.com
NODE_ENV=staging
PARLANT_ENV=staging

# ===========================================
# LLM PROVIDER CONFIGURATION
# ===========================================
# Staging uses production-like models for testing
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.5

# Disable local LLM in staging
# OLLAMA_URL=
# OLLAMA_MODEL=

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_URL=postgresql://postgres:${POSTGRES_PASSWORD}@staging-db:5432/simstudio
PARLANT_SESSION_STORE=database
PARLANT_SESSION_TTL=86400

# ===========================================
# AUTHENTICATION & SECURITY
# ===========================================
# Staging uses production-like security settings
PARLANT_RATE_LIMIT_ENABLED=true
PARLANT_RATE_LIMIT_MAX_REQUESTS=500
PARLANT_RATE_LIMIT_WINDOW_MS=60000

PARLANT_CORS_ORIGINS=https://staging.example.com,https://parlant-staging.example.com
PARLANT_CORS_CREDENTIALS=true

# ===========================================
# INTEGRATION WITH SIM SERVICES
# ===========================================
SIM_STUDIO_URL=https://staging.example.com
BETTER_AUTH_URL=https://staging.example.com
REALTIME_SERVICE_URL=https://staging-realtime.example.com
SOCKET_SERVER_URL=https://staging-realtime.example.com
NEXT_PUBLIC_SOCKET_URL=https://staging-realtime.example.com

# ===========================================
# LOGGING & MONITORING
# ===========================================
PARLANT_LOG_LEVEL=info
PARLANT_LOG_FORMAT=json
PARLANT_LOG_FILE_ENABLED=true
PARLANT_LOG_FILE_PATH=/var/log/parlant/parlant-staging.log

PARLANT_METRICS_ENABLED=true
PARLANT_HEALTH_CHECK_ENABLED=true
PARLANT_HEALTH_CHECK_PATH=/health

# Enable performance monitoring in staging
PARLANT_ENABLE_TRACING=true
PARLANT_TRACE_SAMPLE_RATE=0.1

# ===========================================
# STAGING FEATURES
# ===========================================
PARLANT_DEBUG_MODE=false
PARLANT_AUTO_RELOAD=false
PARLANT_WEB_UI_ENABLED=true

# Performance settings for staging
PARLANT_MAX_MEMORY_MB=2048
PARLANT_WORKER_THREADS=4
PARLANT_MAX_CONCURRENT_SESSIONS=500

# Cache settings for staging
PARLANT_CACHE_ENABLED=true
PARLANT_CACHE_TTL=1800
PARLANT_CACHE_MAX_SIZE=500

# ===========================================
# DOCKER CONFIGURATION
# ===========================================
PARLANT_DOCKER_MEMORY_LIMIT=4G
PARLANT_DOCKER_CPU_LIMIT=2

# Health check settings
PARLANT_HEALTH_CHECK_INTERVAL=30
PARLANT_HEALTH_CHECK_TIMEOUT=5
PARLANT_HEALTH_CHECK_RETRIES=3

# ===========================================
# FEATURE FLAGS
# ===========================================
PARLANT_FEATURE_GUIDELINES_ENABLED=true
PARLANT_FEATURE_JOURNEYS_ENABLED=true
PARLANT_FEATURE_TOOLS_ENABLED=true
PARLANT_FEATURE_RAG_ENABLED=true
PARLANT_FEATURE_CANNED_RESPONSES_ENABLED=true
PARLANT_FEATURE_VARIABLES_ENABLED=true
PARLANT_FEATURE_HUMAN_HANDOFF_ENABLED=true
PARLANT_FEATURE_WEBHOOKS_ENABLED=true

# Limited experimental features in staging
PARLANT_EXPERIMENTAL_FEATURES_ENABLED=false
PARLANT_EXPERIMENTAL_VOICE_ENABLED=false
PARLANT_EXPERIMENTAL_MULTIMODAL_ENABLED=false

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
PARLANT_BACKUP_ENABLED=true
PARLANT_BACKUP_INTERVAL=43200
PARLANT_BACKUP_RETENTION_DAYS=14